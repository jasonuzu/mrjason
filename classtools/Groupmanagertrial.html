<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GroupGenius - Enhanced</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        :root { --primary: #6a11cb; --primary-light: #8a2be2; --secondary: #ff6b6b; --accent: #4ecdc4; --success: #51cf66; --warning: #ffd43b; --danger: #ff6b6b; }
        body { background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; min-height: 100vh; padding: 20px; }
        .container { max-width: 1300px; margin: 0 auto; }
        header { text-align: center; padding: 25px; margin-bottom: 30px; background: rgba(255,255,255,0.1); border-radius: 20px; backdrop-filter: blur(10px); }
        h1 { font-size: 3.2rem; background: linear-gradient(to right, #ff6b6b, #4ecdc4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; display: inline-block; }
        .card { background: rgba(255,255,255,0.1); border-radius: 20px; padding: 30px; margin-bottom: 30px; backdrop-filter: blur(10px); }
        .btn { background: var(--primary-light); color: white; border: none; padding: 14px 28px; border-radius: 50px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 10px; }
        .btn:hover { transform: translateY(-3px); }
        .btn-success { background: var(--success); }
        .btn-warning { background: var(--warning); color: #2d3748; }
        .btn-danger { background: var(--danger); }
        .btn-accent { background: var(--accent); }
        .upload-area { width: 100%; max-width: 600px; height: 220px; border: 3px dashed rgba(255,255,255,0.5); border-radius: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; text-align: center; }
        .upload-area:hover { border-color: var(--success); background: rgba(81,207,102,0.1); }
        textarea { width: 100%; height: 150px; border-radius: 12px; padding: 15px; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.2); color: white; }
        .controls { display: flex; justify-content: center; gap: 25px; margin: 25px 0; flex-wrap: wrap; }
        .group-selector { display: flex; align-items: center; gap: 15px; background: rgba(255,255,255,0.1); padding: 12px 20px; border-radius: 50px; }
        select { padding: 10px 20px; border-radius: 50px; border: none; background: rgba(255,255,255,0.9); font-size: 1.1rem; font-weight: 600; color: #2d3748; cursor: pointer; }
        .student-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; margin-top: 20px; }
        .student-card { background: rgba(255,255,255,0.15); border-radius: 15px; padding: 20px; text-align: center; position: relative; cursor: pointer; transition: all 0.3s ease; }
        .student-card:hover { transform: translateY(-8px); background: rgba(255,255,255,0.25); }
        .student-avatar { width: 70px; height: 70px; border-radius: 50%; background: var(--primary-light); display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; font-size: 1.8rem; }
        .groups-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; margin-top: 30px; }
        .group-card { background: rgba(255,255,255,0.15); border-radius: 20px; padding: 25px; position: relative; }
        .group-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .group-name { font-size: 1.8rem; font-weight: 700; color: var(--secondary); }
        .points-display { font-size: 2rem; font-weight: 700; color: var(--warning); }
        .member { padding: 12px 15px; background: rgba(255,255,255,0.1); border-radius: 12px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 100; justify-content: center; align-items: center; }
        .modal-content { background: rgba(40,40,70,0.95); border-radius: 20px; padding: 35px; width: 90%; max-width: 550px; }
        .shortcuts-display { background: rgba(255,255,255,0.1); border-radius: 15px; padding: 15px 20px; margin-top: 20px; }
        .shortcut-item { display: flex; gap: 10px; margin-bottom: 5px; }
        .shortcut-key { background: rgba(255,255,255,0.2); padding: 3px 8px; border-radius: 5px; font-family: monospace; min-width: 100px; text-align: center; }
        .status-badge { display: inline-flex; gap: 5px; padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .pulse { animation: pulse 1.5s infinite; }
    </style>
</head>
<body>
    <button class="sound-toggle" id="soundToggle" style="position: fixed; top: 20px; right: 20px; background: rgba(255,255,255,0.2); border: none; border-radius: 50%; width: 50px; height: 50px; color: white; font-size: 1.5rem; cursor: pointer; z-index: 100;">
        <i class="fas fa-volume-up"></i>
    </button>

    <div class="container">
        <header>
            <h1><i class="fas fa-users"></i> GroupGenius Enhanced</h1>
            <p style="font-size: 1.3rem; opacity: 0.9; margin-top: 10px;">Create dynamic student groups with undo/redo, themes, and statistics!</p>
        </header>

        <div class="card">
            <h2 style="font-size: 1.8rem; margin-bottom: 20px; color: var(--secondary);"><i class="fas fa-file-upload"></i> Upload Student List</h2>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 25px;">
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-file-csv" style="font-size: 4rem; color: var(--success);"></i>
                    <h3>Upload CSV or Paste Names</h3>
                    <p>Click to upload or drag and drop</p>
                </div>
                <input type="file" id="fileInput" accept=".csv" style="display: none;">
                
                <div style="width: 100%; max-width: 600px;">
                    <h3 style="text-align: center; margin-bottom: 15px;">Or Paste Student Names</h3>
                    <textarea id="pasteInput" placeholder="John Smith&#10;Jane Doe&#10;Michael Johnson"></textarea>
                    <div style="text-align: center; margin-top: 15px;">
                        <button class="btn btn-accent" id="pasteImportBtn"><i class="fas fa-paste"></i> Import Names</button>
                    </div>
                </div>
                
                <button class="btn btn-accent" id="sampleDataBtn"><i class="fas fa-magic"></i> Use Sample Data</button>
            </div>
        </div>

        <div class="card" id="studentListCard" style="display: none;">
            <h2 style="font-size: 1.8rem; margin-bottom: 20px; color: var(--secondary);"><i class="fas fa-user-graduate"></i> Student List</h2>
            <div class="student-list" id="studentList"></div>

            <div class="controls">
                <div class="group-selector">
                    <label><i class="fas fa-layer-group"></i> Groups:</label>
                    <select id="groupCount">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4" selected>4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                </div>
                <div class="group-selector">
                    <label><i class="fas fa-palette"></i> Theme:</label>
                    <select id="themeSelect">
                        <option value="default">Military</option>
                        <option value="planets">Planets</option>
                        <option value="colors">Colors</option>
                        <option value="animals">Animals</option>
                        <option value="elements">Elements</option>
                    </select>
                </div>
                <button class="btn btn-success pulse" id="sortBtn"><i class="fas fa-random"></i> Auto-Sort Groups</button>
                <button class="btn btn-accent" id="createGroupsBtn"><i class="fas fa-plus"></i> Create Empty Groups</button>
            </div>
        </div>

        <div class="card" id="groupsCard" style="display: none;">
            <h2 style="font-size: 1.8rem; margin-bottom: 20px; color: var(--secondary);"><i class="fas fa-object-group"></i> Student Groups</h2>
            
            <div class="shortcuts-display">
                <h4><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h4>
                <div class="shortcut-item"><span class="shortcut-key">Ctrl/Cmd + Z</span><span>Undo</span></div>
                <div class="shortcut-item"><span class="shortcut-key">Ctrl/Cmd + Y</span><span>Redo</span></div>
                <div class="shortcut-item"><span class="shortcut-key">Ctrl/Cmd + F</span><span>Search</span></div>
                <div class="shortcut-item"><span class="shortcut-key">Ctrl/Cmd + R</span><span>Random Select</span></div>
            </div>

            <div style="display: flex; justify-content: center; gap: 15px; margin: 20px 0; flex-wrap: wrap;">
                <input type="text" id="searchInput" placeholder="Search student..." style="padding: 10px 15px; border-radius: 50px; border: none; width: 250px;">
                <button class="btn btn-accent" id="searchBtn"><i class="fas fa-search"></i> Search</button>
                <button class="btn btn-accent" id="randomSelectBtn"><i class="fas fa-random"></i> Random Select</button>
            </div>
            
            <div style="display: flex; justify-content: center; gap: 15px; margin-top: 20px; flex-wrap: wrap;">
                <button class="btn btn-warning" id="undoBtn" title="Undo (Ctrl+Z)"><i class="fas fa-undo"></i> Undo</button>
                <button class="btn btn-warning" id="redoBtn" title="Redo (Ctrl+Y)"><i class="fas fa-redo"></i> Redo</button>
                <button class="btn btn-accent" id="statsBtn"><i class="fas fa-chart-bar"></i> Show Statistics</button>
                <button class="btn btn-accent" id="saveToStorageBtn"><i class="fas fa-save"></i> Save</button>
                <button class="btn btn-warning" id="loadFromStorageBtn"><i class="fas fa-folder-open"></i> Load</button>
                <button class="btn btn-export" id="exportBtn" style="background: #9c27b0;"><i class="fas fa-file-export"></i> Export</button>
            </div>
            
            <div id="statsDisplay" style="display: none; margin-top: 20px;">
                <div class="card" style="background: rgba(78,205,196,0.2);">
                    <h3 style="color: var(--accent);"><i class="fas fa-chart-pie"></i> Statistics</h3>
                    <div id="statsContent"></div>
                </div>
            </div>

            <div class="groups-container" id="groupsContainer"></div>
        </div>
    </div>

    <script>
        const groupThemes = {
            default: ["Alpha", "Bravo", "Charlie", "Delta", "Echo", "Falcon", "Galaxy", "Horizon", "Infinity", "Jupiter"],
            planets: ["Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune", "Pluto", "Titan"],
            colors: ["Red", "Blue", "Green", "Yellow", "Purple", "Orange", "Pink", "Teal", "Indigo", "Violet"],
            animals: ["Lions", "Tigers", "Eagles", "Dolphins", "Panthers", "Wolves", "Hawks", "Sharks", "Bears", "Dragons"],
            elements: ["Fire", "Water", "Earth", "Air", "Lightning", "Ice", "Metal", "Wood", "Light", "Shadow"]
        };
        
        let currentTheme = 'default';
        let students = [];
        let groups = [];
        let soundEnabled = true;
        let history = [];
        let historyIndex = -1;
        const MAX_HISTORY = 50;

        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const pasteInput = document.getElementById('pasteInput');
        const pasteImportBtn = document.getElementById('pasteImportBtn');
        const sampleDataBtn = document.getElementById('sampleDataBtn');
        const studentListCard = document.getElementById('studentListCard');
        const studentList = document.getElementById('studentList');
        const groupCount = document.getElementById('groupCount');
        const themeSelect = document.getElementById('themeSelect');
        const sortBtn = document.getElementById('sortBtn');
        const createGroupsBtn = document.getElementById('createGroupsBtn');
        const groupsCard = document.getElementById('groupsCard');
        const groupsContainer = document.getElementById('groupsContainer');
        const searchInput = document.getElementById('searchInput');
        const searchBtn = document.getElementById('searchBtn');
        const randomSelectBtn = document.getElementById('randomSelectBtn');
        const undoBtn = document.getElementById('undoBtn');
        const redoBtn = document.getElementById('redoBtn');
        const statsBtn = document.getElementById('statsBtn');
        const statsDisplay = document.getElementById('statsDisplay');
        const statsContent = document.getElementById('statsContent');
        const soundToggle = document.getElementById('soundToggle');
        const saveToStorageBtn = document.getElementById('saveToStorageBtn');
        const loadFromStorageBtn = document.getElementById('loadFromStorageBtn');
        const exportBtn = document.getElementById('exportBtn');

        function playSound(freq) {
            if (!soundEnabled) return;
            try {
                const ctx = new (window.AudioContext || window.webkitAudioContext)();
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.frequency.value = freq;
                gain.gain.setValueAtTime(0, ctx.currentTime);
                gain.gain.linearRampToValueAtTime(1, ctx.currentTime + 0.01);
                gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.1);
                osc.start(ctx.currentTime);
                osc.stop(ctx.currentTime + 0.1);
            } catch(e) {}
        }

        function saveToHistory() {
            if (historyIndex < history.length - 1) {
                history = history.slice(0, historyIndex + 1);
            }
            history.push({
                students: JSON.parse(JSON.stringify(students)),
                groups: JSON.parse(JSON.stringify(groups))
            });
            if (history.length > MAX_HISTORY) {
                history.shift();
            } else {
                historyIndex++;
            }
        }

        function undo() {
            if (historyIndex > 0) {
                historyIndex--;
                const state = history[historyIndex];
                students = JSON.parse(JSON.stringify(state.students));
                groups = JSON.parse(JSON.stringify(state.groups));
                displayStudents();
                displayGroups();
                playSound(600);
            }
        }

        function redo() {
            if (historyIndex < history.length - 1) {
                historyIndex++;
                const state = history[historyIndex];
                students = JSON.parse(JSON.stringify(state.students));
                groups = JSON.parse(JSON.stringify(state.groups));
                displayStudents();
                displayGroups();
                playSound(700);
            }
        }

        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'z' && !e.shiftKey) {
                e.preventDefault();
                undo();
            }
            if (((e.ctrlKey || e.metaKey) && e.key === 'y') || ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'z')) {
                e.preventDefault();
                redo();
            }
            if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                e.preventDefault();
                searchInput.focus();
            }
            if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
                e.preventDefault();
                randomSelectStudent();
            }
        });

        uploadArea.addEventListener('click', () => fileInput.click());
        
        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length) {
                const reader = new FileReader();
                reader.onload = (ev) => {
                    students = ev.target.result.split('\n').map(n => n.trim()).filter(n => n.length > 0);
                    saveToHistory();
                    displayStudents();
                    playSound(800);
                };
                reader.readAsText(e.target.files[0]);
            }
        });

        pasteImportBtn.addEventListener('click', () => {
            const content = pasteInput.value;
            if (!content.trim()) return alert("Please paste student names first.");
            const newStudents = content.split('\n').map(n => n.trim()).filter(n => n.length > 0);
            if (newStudents.length === 0) return alert("No valid names found.");
            saveToHistory();
            students = [...students, ...newStudents];
            displayStudents();
            playSound(800);
        });

        sampleDataBtn.addEventListener('click', () => {
            saveToHistory();
            students = ["Emma Johnson", "Noah Smith", "Olivia Williams", "Liam Brown", "Ava Jones", "William Garcia", "Sophia Miller", "Mason Davis", "Isabella Rodriguez", "James Martinez"];
            displayStudents();
            playSound(800);
        });

        themeSelect.addEventListener('change', () => {
            currentTheme = themeSelect.value;
            playSound(700);
        });

        sortBtn.addEventListener('click', () => {
            if (students.length === 0) return alert("Add students first!");
            saveToHistory();
            const numGroups = parseInt(groupCount.value);
            groups = Array.from({ length: numGroups }, (_, i) => ({
                name: groupThemes[currentTheme][i],
                members: [],
                points: 0
            }));
            const shuffled = [...students].sort(() => Math.random() - 0.5);
            shuffled.forEach((s, i) => {
                groups[i % numGroups].members.push({ name: s, points: 0 });
            });
            students = [];
            displayStudents();
            displayGroups();
            groupsCard.style.display = 'block';
            playSound(1000);
        });

        createGroupsBtn.addEventListener('click', () => {
            saveToHistory();
            const numGroups = parseInt(groupCount.value);
            groups = Array.from({ length: numGroups }, (_, i) => ({
                name: groupThemes[currentTheme][i],
                members: [],
                points: 0
            }));
            displayGroups();
            groupsCard.style.display = 'block';
            playSound(800);
        });

        function displayStudents() {
            studentList.innerHTML = '';
            if (students.length === 0) {
                studentList.innerHTML = '<div style="text-align: center; padding: 40px; opacity: 0.7;"><i class="fas fa-user-graduate" style="font-size: 3rem; color: var(--accent);"></i><h3>No Students Yet</h3></div>';
            } else {
                students.forEach(student => {
                    const card = document.createElement('div');
                    card.className = 'student-card';
                    card.innerHTML = `<div class="student-avatar">${student.charAt(0)}</div><h3>${student}</h3>`;
                    studentList.appendChild(card);
                });
            }
            studentListCard.style.display = 'block';
        }

        function displayGroups() {
            groupsContainer.innerHTML = '';
            if (groups.length === 0) {
                groupsContainer.innerHTML = '<div style="text-align: center; padding: 40px; opacity: 0.7;"><i class="fas fa-users" style="font-size: 3rem; color: var(--accent);"></i><h3>No Groups Yet</h3></div>';
                return;
            }
            groups.forEach((group, idx) => {
                const card = document.createElement('div');
                card.className = 'group-card';
                card.innerHTML = `
                    <div class="group-header">
                        <div class="group-name">${group.name}</div>
                        <div class="points-display"><i class="fas fa-trophy" style="color: var(--warning);"></i>${group.points}</div>
                    </div>
                    ${group.members.map(m => `
                        <div class="member">
                            <span>${m.name}</span>
                            <div style="display: flex; gap: 8px; align-items: center;">
                                <span style="color: var(--warning);"><i class="fas fa-star"></i>${m.points}</span>
                                <button onclick="addStudentPoint(${idx}, '${m.name}')" style="background: none; border: none; color: white; cursor: pointer; font-size: 1.2rem;"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    `).join('')}
                    <div style="display: flex; gap: 12px; margin-top: 20px;">
                        <button class="btn btn-success" onclick="addGroupPoint(${idx})" style="flex: 1; padding: 10px;"><i class="fas fa-plus"></i> Group Point</button>
                    </div>
                `;
                groupsContainer.appendChild(card);
            });
        }

        function addGroupPoint(idx) {
            saveToHistory();
            groups[idx].points += 1;
            displayGroups();
            playSound(900);
        }

        function addStudentPoint(groupIdx, name) {
            saveToHistory();
            const member = groups[groupIdx].members.find(m => m.name === name);
            if (member) member.points += 1;
            displayGroups();
            playSound(900);
        }

        function randomSelectStudent() {
            if (groups.length === 0 || groups.every(g => g.members.length === 0)) {
                return alert("Create groups with students first!");
            }
            const allMembers = groups.flatMap((g, gi) => g.members.map((m, mi) => ({g: gi, m: mi, name: m.name})));
            if (allMembers.length === 0) return;
            const selected = allMembers[Math.floor(Math.random() * allMembers.length)];
            alert(`Randomly selected: ${selected.name}`);
            playSound(1100);
        }

        searchBtn.addEventListener('click', () => {
            const term = searchInput.value.trim().toLowerCase();
            if (!term) return alert("Enter a search term!");
            let found = false;
            groups.forEach(g => {
                g.members.forEach(m => {
                    if (m.name.toLowerCase().includes(term)) {
                        found = true;
                        alert(`Found: ${m.name} in ${g.name}`);
                    }
                });
            });
            if (!found) alert("No matches found!");
            playSound(800);
        });

        undoBtn.addEventListener('click', undo);
        redoBtn.addEventListener('click', redo);

        statsBtn.addEventListener('click', () => {
            if (statsDisplay.style.display === 'none') {
                showStatistics();
                statsDisplay.style.display = 'block';
                statsBtn.innerHTML = '<i class="fas fa-chart-bar"></i> Hide Statistics';
            } else {
                statsDisplay.style.display = 'none';
                statsBtn.innerHTML = '<i class="fas fa-chart-bar"></i> Show Statistics';
            }
            playSound(700);
        });

        function showStatistics() {
            const totalStudents = groups.reduce((sum, g) => sum + g.members.length, 0);
            const totalGroupPoints = groups.reduce((sum, g) => sum + g.points, 0);
            const totalStudentPoints = groups.reduce((sum, g) => sum + g.members.reduce((s, m) => s + m.points, 0), 0);
            const avgGroupSize = totalStudents / groups.length || 0;
            
            statsContent.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div class="status-badge" style="flex-direction: column; padding: 15px; background: rgba(81,207,102,0.3);">
                        <div style="font-size: 2rem; font-weight: bold;">${totalStudents}</div>
                        <div>Total Students</div>
                    </div>
                    <div class="status-badge" style="flex-direction: column; padding: 15px; background: rgba(78,205,196,0.3);">
                        <div style="font-size: 2rem; font-weight: bold;">${groups.length}</div>
                        <div>Total Groups</div>
                    </div>
                    <div class="status-badge" style="flex-direction: column; padding: 15px; background: rgba(81,207,102,0.3);">
                        <div style="font-size: 2rem; font-weight: bold;">${avgGroupSize.toFixed(1)}</div>
                        <div>Avg Group Size</div>
                    </div>
                    <div class="status-badge" style="flex-direction: column; padding: 15px; background: rgba(78,205,196,0.3);">
                        <div style="font-size: 2rem; font-weight: bold;">${totalGroupPoints}</div>
                        <div>Total Group Points</div>
                    </div>
                    <div class="status-badge" style="flex-direction: column; padding: 15px; background: rgba(81,207,102,0.3);">
                        <div style="font-size: 2rem; font-weight: bold;">${totalStudentPoints}</div>
                        <div>Total Student Points</div>
                    </div>
                </div>
            `;
        }

        saveToStorageBtn.addEventListener('click', () => {
            localStorage.setItem('groupGeniusData', JSON.stringify({students, groups}));
            alert('Saved!');
            playSound(900);
        });

        loadFromStorageBtn.addEventListener('click', () => {
            const data = localStorage.getItem('groupGeniusData');
            if (data) {
                const parsed = JSON.parse(data);
                students = parsed.students || [];
                groups = parsed.groups || [];
                displayStudents();
                displayGroups();
                if (groups.length > 0) groupsCard.style.display = 'block';
                alert('Loaded!');
                playSound(900);
            } else {
                alert('No saved data found.');
            }
        });

        exportBtn.addEventListener('click', () => {
            if (groups.length === 0) return alert("No groups to export!");
            let csv = "Group,Student,Group Points,Student Points\n";
            groups.forEach(g => {
                g.members.forEach(m => {
                    csv += `"${g.name}","${m.name}",${g.points},${m.points}\n`;
                });
            });
            const blob = new Blob([csv], { type: 'text/csv' });
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = `groups_${new Date().toISOString().split('T')[0]}.
